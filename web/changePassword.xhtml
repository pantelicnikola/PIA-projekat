<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Login Page</title>
        <meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta http-equiv="X-UA-Conpatible" content="IE=edge" />
	<h:outputStylesheet library="css" name="bootstrap.css"></h:outputStylesheet>
        <ui:include src="includes/navbarUser.xhtml" ></ui:include>
    </h:head>
    <h:body>
        <div class="container">
            <div class="row">
		<div class="col-xs-12">
                    <f:view>
                        <h:form id="changePassword" styleClass="form-horizontal">
                            
                            <div class="form-group">
                                <div class="control-label col-sm-3"></div>
                                <h:outputText value="#{userCtrl.changePasswordMessage}" styleClass="col-sm-9 text-danger"/>
                            </div>
                            
                            <div class="form-group">
                                <h:outputText value="Enter Your Username:" styleClass="control-label col-sm-3"/>
                                <div class="col-sm-9">
                                    <h:inputText id="usn" value="#{userCtrl.username}" required="true" requiredMessage="Please enter your username" styleClass="form-control"></h:inputText>
                                    <h:message for="usn" style="color:red" styleClass="form-control" />
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <h:outputText value="Enter Your Old Password:" styleClass="control-label col-sm-3"/>
                                <div class="col-sm-9">
                                    <h:inputSecret id="opsw" value="#{userCtrl.password}" required="true" requiredMessage="Please enter your old password" styleClass="form-control"></h:inputSecret>
                                    <h:message for="opsw" style="color:red" styleClass="form-control" />
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <h:outputText value="Enter Your New Password" styleClass="control-label col-sm-3"/>
                                <div class="col-sm-9">
                                    <h:inputSecret id="npsw" value="#{userCtrl.newPassword}" required="true" requiredMessage="Please enter your new password" styleClass="form-control">
                                        <f:validateRegex pattern="^[a-zA-Z](?=.{6,12}$)(?=[^A-Z]*[A-Z])(?=[^a-z]*[a-z])(?=[^0-9]*[0-9])(?:([\w\d*?!:;])\1?(?!\1))+$"/>
                                    </h:inputSecret>
                                    <h:message for="npsw" style="color:red" styleClass="form-control" />
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <h:outputText value="Re-Type Your New Password" styleClass="control-label col-sm-3"/>
                                <div class="col-sm-9">
                                    <h:inputSecret id="nppsw" value="#{userCtrl.newPpassword}" required="true" requiredMessage="Please enter your password" styleClass="form-control"></h:inputSecret>
                                    <h:message for="nppsw" style="color:red" styleClass="form-control" />
                                </div>
                            </div>
                            
                            <div class="form-group">
				<div class="col-sm-offset-3 col-sm-9">
                                    <h:commandButton action="#{userCtrl.changePassword}" value="Change Password" styleClass="btn btn-default"></h:commandButton>
				</div>
                            </div>
                            
                        </h:form>
                    </f:view>
                </div>
            </div>
        </div>
        <div id="footer"></div>
    </h:body>
</html>
